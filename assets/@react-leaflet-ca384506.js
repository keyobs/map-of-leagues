import"./leaflet-12ffd7f0.js";import{r as c,a as E}from"./react-3623596c.js";import{r as R}from"./react-dom-775a50b8.js";function d(e,t){const n=c.useRef(t);c.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const O=1;function k(e){return Object.freeze({__version:O,map:e})}function A(e,t){return Object.freeze({...e,...t})}const m=c.createContext(null),x=m.Provider;function l(){const e=c.useContext(m);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function b(e){function t(n,r){const{instance:o,context:u}=e(n).current;return c.useImperativeHandle(r,()=>o),n.children==null?null:E.createElement(x,{value:u},n.children)}return c.forwardRef(t)}function H(e){function t(n,r){const[o,u]=c.useState(!1),{instance:a}=e(n,u).current;c.useImperativeHandle(r,()=>a),c.useEffect(function(){o&&a.update()},[a,o,n.children]);const i=a._contentNode;return i?R.createPortal(n.children,i):null}return c.forwardRef(t)}function C(e){function t(n,r){const{instance:o}=e(n).current;return c.useImperativeHandle(r,()=>o),null}return c.forwardRef(t)}function I(e){return function(n){const r=l(),o=e(n,r),{instance:u}=o.current,a=c.useRef(n.position),{position:i}=n;return c.useEffect(function(){return u.addTo(r.map),function(){u.remove()}},[r.map,u]),c.useEffect(function(){i!=null&&i!==a.current&&(u.setPosition(i),a.current=i)},[u,i]),o}}function v(e,t){const n=c.useRef();c.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function y(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function w(e,t){return function(r,o){const u=l(),a=e(y(r,u),u);return d(u.map,r.attribution),v(a.current,r.eventHandlers),t(a.current,u,r,o),a}}function h(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function f(e,t){return t==null?function(r,o){const u=c.useRef();return u.current||(u.current=e(r,o)),u}:function(r,o){const u=c.useRef();u.current||(u.current=e(r,o));const a=c.useRef(r),{instance:i}=u.current;return c.useEffect(function(){a.current!==r&&(t(i,r,a.current),a.current=r)},[i,r,o]),u}}function p(e,t){c.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var u;(u=t.layerContainer)==null||u.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function L(e){return function(n){const r=l(),o=e(y(n,r),r);return d(r.map,n.attribution),v(o.current,n.eventHandlers),p(o.current,r),o}}function D(e){function t(o,u){return h(e(o),u)}const n=f(t),r=I(n);return C(r)}function T(e,t){const n=f(e,t),r=L(n);return b(r)}function _(e,t){const n=f(e),r=w(n,t);return H(r)}function M(e,t){const n=f(e,t),r=L(n);return C(r)}function S(e,t,n){const{opacity:r,zIndex:o}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),o!=null&&o!==n.zIndex&&e.setZIndex(o)}export{x as L,T as a,h as b,k as c,_ as d,A as e,M as f,D as g,S as u,y as w};
