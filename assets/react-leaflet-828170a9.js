import{r,a as L}from"./react-3623596c.js";import{l as c}from"./leaflet-12ffd7f0.js";import{c as M,L as E,a as I,b as g,e as T,d as Z,f as h,u as j,w as z,g as R}from"./@react-leaflet-ca384506.js";import"./react-dom-775a50b8.js";function m(){return m=Object.assign||function(o){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(o[a]=e[a])}return o},m.apply(this,arguments)}function S({bounds:o,boundsOptions:n,center:e,children:a,className:t,id:y,placeholder:u,style:s,whenReady:f,zoom:i,...p},b){const[v]=r.useState({className:t,id:y,style:s}),[l,O]=r.useState(null);r.useImperativeHandle(b,()=>(l==null?void 0:l.map)??null,[l]);const w=r.useCallback(C=>{if(C!==null&&l===null){const d=new c.Map(C,p);e!=null&&i!=null?d.setView(e,i):o!=null&&d.fitBounds(o,n),f!=null&&d.whenReady(f),O(M(d))}},[]);r.useEffect(()=>()=>{l==null||l.map.remove()},[l]);const P=l?L.createElement(E,{value:l},a):u??null;return L.createElement("div",m({},v,{ref:w}),P)}const U=r.forwardRef(S),V=I(function({position:n,...e},a){const t=new c.Marker(n,e);return g(t,T(a,{overlayContainer:t}))},function(n,e,a){e.position!==a.position&&n.setLatLng(e.position),e.icon!=null&&e.icon!==a.icon&&n.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==a.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==a.opacity&&n.setOpacity(e.opacity),n.dragging!=null&&e.draggable!==a.draggable&&(e.draggable===!0?n.dragging.enable():n.dragging.disable())}),_=Z(function(n,e){const a=new c.Popup(n,e.overlayContainer);return g(a,e)},function(n,e,{position:a},t){r.useEffect(function(){const{instance:u}=n;function s(i){i.popup===u&&(u.update(),t(!0))}function f(i){i.popup===u&&t(!1)}return e.map.on({popupopen:s,popupclose:f}),e.overlayContainer==null?(a!=null&&u.setLatLng(a),u.openOn(e.map)):e.overlayContainer.bindPopup(u),function(){var p;e.map.off({popupopen:s,popupclose:f}),(p=e.overlayContainer)==null||p.unbindPopup(),e.map.removeLayer(u)}},[n,e,t,a])}),q=h(function({url:n,...e},a){const t=new c.TileLayer(n,z(e,a));return g(t,a)},function(n,e,a){j(n,e,a);const{url:t}=e;t!=null&&t!==a.url&&n.setUrl(t)}),A=R(function(n){return new c.Control.Zoom(n)});export{U as M,_ as P,q as T,A as Z,V as a};
